import{r as x}from"./vendor.cfb83e27.js";function v(){return v=Object.assign||function(r){for(var c=1;c<arguments.length;c++){var a=arguments[c];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(r[u]=a[u])}return r},v.apply(this,arguments)}var _="Left",B="Right",H="Up",q="Down",D={delta:10,preventDefaultTouchmoveEvent:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0},b={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},k="mousemove",R="mouseup",C="touchend",F="touchmove",G="touchstart";function N(r,c,a,u){return r>c?a>0?B:_:u>0?q:H}function P(r,c){if(c===0)return r;var a=Math.PI/180*c,u=r[0]*Math.cos(a)+r[1]*Math.sin(a),h=r[1]*Math.cos(a)-r[0]*Math.sin(a);return[u,h]}function W(r,c){var a=function(n){n&&"touches"in n&&n.touches.length>1||r(function(t,e){e.trackMouse&&(document.addEventListener(k,u),document.addEventListener(R,T));var i="touches"in n?n.touches[0]:n,o=i.clientX,l=i.clientY,f=P([o,l],e.rotationAngle);return v({},t,b,{initial:[].concat(f),xy:f,start:n.timeStamp||0})})},u=function(n){r(function(t,e){if("touches"in n&&n.touches.length>1)return t;var i="touches"in n?n.touches[0]:n,o=i.clientX,l=i.clientY,f=P([o,l],e.rotationAngle),U=f[0],O=f[1],S=U-t.xy[0],g=O-t.xy[1],s=Math.abs(S),m=Math.abs(g),y=(n.timeStamp||0)-t.start,j=Math.sqrt(s*s+m*m)/(y||1),I=[S/(y||1),g/(y||1)],p=N(s,m,S,g),X=typeof e.delta=="number"?e.delta:e.delta[p.toLowerCase()]||D.delta;if(s<X&&m<X&&!t.swiping)return t;var w={absX:s,absY:m,deltaX:S,deltaY:g,dir:p,event:n,first:t.first,initial:t.initial,velocity:j,vxvy:I};w.first&&e.onSwipeStart&&e.onSwipeStart(w),e.onSwiping&&e.onSwiping(w);var Y=!1;return(e.onSwiping||e.onSwiped||"onSwiped"+p in e)&&(Y=!0),Y&&e.preventDefaultTouchmoveEvent&&e.trackTouch&&n.cancelable&&n.preventDefault(),v({},t,{first:!1,eventData:w,swiping:!0})})},h=function(n){r(function(t,e){var i;if(t.swiping&&t.eventData){i=v({},t.eventData,{event:n}),e.onSwiped&&e.onSwiped(i);var o=e["onSwiped"+i.dir];o&&o(i)}else e.onTap&&e.onTap({event:n});return v({},t,b,{eventData:i})})},E=function(){document.removeEventListener(k,u),document.removeEventListener(R,T)},T=function(n){E(),h(n)},M=function(n,t){var e=function(){};if(n&&n.addEventListener){var i=[[G,a],[F,u],[C,h]];i.forEach(function(o){var l=o[0],f=o[1];return n.addEventListener(l,f,{passive:t})}),e=function(){return i.forEach(function(l){var f=l[0],U=l[1];return n.removeEventListener(f,U)})}}return e},A=function(n){n!==null&&r(function(t,e){if(t.el===n)return t;var i={};return t.el&&t.el!==n&&t.cleanUpTouch&&(t.cleanUpTouch(),i.cleanUpTouch=void 0),e.trackTouch&&n&&(i.cleanUpTouch=M(n,!e.preventDefaultTouchmoveEvent)),v({},t,{el:n},i)})},L={ref:A};return c.trackMouse&&(L.onMouseDown=a),[L,M]}function $(r,c,a){var u={};return!c.trackTouch&&r.cleanUpTouch?(r.cleanUpTouch(),u.cleanUpTouch=void 0):c.trackTouch&&!r.cleanUpTouch&&r.el&&(u.cleanUpTouch=a(r.el,!c.preventDefaultTouchmoveEvent)),v({},r,u)}function J(r){var c=r.trackMouse,a=x.exports.useRef(v({},b)),u=x.exports.useRef(v({},D));u.current=v({},D,r);var h=x.exports.useMemo(function(){return W(function(M){return a.current=M(a.current,u.current)},{trackMouse:c})},[c]),E=h[0],T=h[1];return a.current=$(a.current,u.current,T),E}export{J as u};
