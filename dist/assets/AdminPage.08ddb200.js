var k=Object.defineProperty,A=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var C=(a,r,t)=>r in a?k(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t,f=(a,r)=>{for(var t in r||(r={}))x.call(r,t)&&C(a,t,r[t]);if(y)for(var t of y(r))j.call(r,t)&&C(a,t,r[t]);return a},h=(a,r)=>A(a,F(r));var T=(a,r)=>{var t={};for(var o in a)x.call(a,o)&&r.indexOf(o)<0&&(t[o]=a[o]);if(a!=null&&y)for(var o of y(a))r.indexOf(o)<0&&j.call(a,o)&&(t[o]=a[o]);return t};import{r as R,R as e}from"./vendor.cfb83e27.js";import{F as O,a as D,b as E}from"./formik.37798a37.js";import{T as H}from"./react-textarea-autosize.9e64e8cb.js";import{ac as L,P as _,m as K,C as N,a as q,ad as l,ae as S,af as z,H as B,a4 as M,b as V,c as G}from"./PublicLayout.80c54043.js";import{C as W}from"./Card.26304afb.js";import{f as Y,J as I,o as J,a7 as Q,c as U,a as X,e as w,d as Z,aS as $,aR as ee,a1 as ae}from"./index.b8b2001b.js";import{T as te}from"./types.4f381c0a.js";import{u as re}from"./use-toast.2010154f.js";import"./prop-types.d6ec705b.js";import"./react-redux.c2d752d8.js";import"./axios.7b768d2b.js";import"./focus-visible.715907f4.js";function g(){return g=Object.assign||function(a){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(a[o]=t[o])}return a},g.apply(this,arguments)}function oe(a,r){if(a==null)return{};var t={},o=Object.keys(a),c,m;for(m=0;m<o.length;m++)c=o[m],!(r.indexOf(c)>=0)&&(t[c]=a[c]);return t}var ne=Y((a,r)=>{var t=I("Textarea",a),o=J(a),{className:c,rows:m}=o,n=oe(o,["className","rows"]),u=L(n),s=["h","minH","height","minHeight"],i=m?Q(t,s):t;return R.exports.createElement(U.textarea,g({ref:r,rows:m},u,{className:X("chakra-textarea",c),__css:i}))});const be=()=>{const a=Object.values(te),{addingDealerCar:r}=w(n=>n.carsReducer),{catalogQuery:t}=w(n=>n.globalAppState),o=Z(),c=re(),m={manufacturer:"",modelGroup:"",modelDetail:"",bodyStyle:"",damage:"",location:"",odometer:0,cylinders:0,drive:"",engine:0,transmission:"",year:"",hasKeys:"",fuelType:"",color:"",price:0,description:"",photos:null};return e.createElement(_,null,e.createElement(K,{pt:["32px",null,null,"40px"]},e.createElement(N,null,e.createElement(W,{w:"500px",bg:"#fff",p:"4"},e.createElement(O,{initialValues:m,onSubmit:(n,{setFieldError:u})=>{const b=n,{photos:s}=b,i=T(b,["photos"]),d=new FormData;for(let p in i)d.append(p,n[p]);if(s)for(let p of s)d.append("photo[]",p);const P=new URLSearchParams(t);o($(d)).unwrap().then(()=>{c({title:"New car edded successfully",position:"top",status:"success",duration:1500}),o(ee(P))}).catch(p=>{let v="";ae(p)&&p.status===422&&(v="Fill in required fields",u("manufacturer","required")),c({title:v,position:"top",variant:"solid",status:"error",duration:2e3})})}},({values:n,setFieldValue:u})=>e.createElement(D,null,e.createElement(q,null,"Add Car"),e.createElement(l,{name:"manufacturer",placeholder:"Manufacturer"}),e.createElement(l,{name:"modelGroup",placeholder:"Model group"}),e.createElement(l,{name:"modelDetail",placeholder:"Model detail"}),e.createElement(l,{name:"bodyStyle",placeholder:"Body style"}),e.createElement(l,{name:"damage",placeholder:"damage"}),e.createElement(l,{name:"location",placeholder:"location"}),e.createElement(l,{name:"odometer",placeholder:"odometer",type:"number",value:n.odometer||""}),e.createElement(l,{name:"cylinders",placeholder:"cylinders",type:"number",value:n.cylinders||""}),e.createElement(l,{name:"drive",placeholder:"drive"}),e.createElement(l,{name:"engine",type:"number",value:n.engine||"",placeholder:"Engine capacity"}),e.createElement(E,{name:"transmission"},({field:s})=>e.createElement(S,{pt:"2"},e.createElement(z,h(f({},s),{bg:"#EAEAEB",opacity:"0.5",placeholder:"Transmission"}),a.map(i=>e.createElement("option",{key:i,value:i},i))))),e.createElement(l,{name:"year",placeholder:"Year",type:"number",value:n.year||""}),e.createElement(l,{name:"fuelType",placeholder:"Fuel type"}),e.createElement(l,{name:"color",placeholder:"Color"}),e.createElement(l,{name:"price",placeholder:"Price",type:"number",value:n.price||""}),e.createElement(E,{name:"hasKeys"},({field:s})=>e.createElement(S,{pt:"2"},e.createElement(B,null,e.createElement(M,f({colorScheme:"autoOrange",name:"hasKeys",value:"YES"},s)),e.createElement(V,null,"Has keys")))),e.createElement(E,{name:"description"},({field:s})=>e.createElement(ne,h(f({mt:"2"},s),{placeholder:"Write Description",size:"sm",as:H,maxRows:10}))),e.createElement(E,{name:"photos"},({field:s})=>e.createElement("input",h(f({type:"file"},s),{multiple:!0,value:void 0,onChange:i=>{const d=i.currentTarget.files;u("photos",d)}}))),e.createElement(G,{type:"submit",mt:"4",mb:"4",isLoading:r},"Add")))))))};export{be as AdminPage,be as default};
